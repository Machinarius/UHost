function onUploadComplete(){location.reload()}function onUploadFailure(){$("#title-input").prop("disabled",!1);$("#description-input").prop("disabled",!1);$("#file-input").prop("disabled",!1);$("#cancel-button").prop("disabled",!1);$("#close-button").prop("disabled",!1);$("#start-upload-button").prop("disabled",!1);$("#progress-container").css("display","none");$("#upload-failure").css("display","block")}function startUpload(){var u,f,n;$("#title-missing-error").css("display","none");$("#file-missing-error").css("display","none");$("#upload-failure").css("display","none");var t=!0,i=$("#file-input")[0].files,r=null;(i&&i.length?r=i[0]:(t=!1,$("#file-missing-error").css("display","block")),u=$("#title-input").val(),f=$("#description-input").val(),u||(t=!1,$("#title-missing-error").css("display","block")),r||(t=!1,$("#file-missing-error").css("display","block")),t)&&(n=new FormData,n.append("title",u),n.append("description",f),n.append("file",r),$.ajax({url:"/Files/Create",data:n,cache:!1,contentType:!1,processData:!1,type:"POST",success:onUploadComplete,error:onUploadFailure}),$("#title-input").prop("disabled",!0),$("#description-input").prop("disabled",!0),$("#file-input").prop("disabled",!0),$("#cancel-button").prop("disabled",!0),$("#close-button").prop("disabled",!0),$("#start-upload-button").prop("disabled",!0),$("#progress-container").css("display","block"))}(function(){$("#start-upload-button").click(startUpload)})();